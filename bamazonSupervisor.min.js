var mysql=require("mysql"),inquirer=require("inquirer"),conn=mysql.createConnection({host:"localhost",port:8889,user:"root",password:"root",database:"bamazon"});function prompt(){inquirer.prompt([{type:"list",name:"choice",message:"What would you like to do?",choices:["View Product Sales by Department","Create New Department","Exit"]}]).then(function(o){console.log(o),"View Product Sales by Department"===o.choice?viewSales():"Exit"===o.choice&&exit()})}function viewSales(){conn.query("SELECT * FROM products",function(o,e){if(o)throw o;for(var n=[],t=0;t<e.length;t++)n.includes(e[t].department_name)||n.push(e[t].department_name);function r(o,e){conn.query("SELECT * FROM products WHERE department_name = '"+o+"';",function(o,e){for(var n=0,t=0;t<e.length;t++)n+=e[t].product_sales;for(var t=0;t<e.length;t++)console.log("==========================="),console.log("\nDepartment: "+e[t].department_name),console.log("Sales: "+n.toString()),console.log("\n===========================")})}console.log(n),console.log("\n###############"),console.log("SALES BY DEPARTMENT"),console.log("###############"),n.forEach(r),setTimeout(function(){prompt()},500)})}conn.connect(function(o){if(o)throw o;console.log("connected as id "+conn.threadId+"\n"),prompt()});