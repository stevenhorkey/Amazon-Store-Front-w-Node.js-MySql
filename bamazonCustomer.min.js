var mysql=require("mysql"),inquirer=require("inquirer"),conn=mysql.createConnection({host:"localhost",port:3306,user:"root",password:"root",database:"bamazon"});function prompt(){inquirer.prompt([{type:"input",name:"idChoice",message:"Enter the ID of the product you would like to buy: "},{type:"input",name:"quantity",message:"Enter the quantity you would like to buy: "}]).then(function(o){console.log(o.idChoice),conn.query("SELECT * FROM products WHERE item_id = "+o.idChoice+";",function(n,t){if(n)throw n;if(t.stock_quantity>=o.quantity){var e=t.stock_quantity-o.quantity;e=e.toString(),conn.query("UPDATE products SET stock_quantity = "+e+" WHERE id = "+o.idChoice+";",function(o,n){})}else console.log("Insufficient quantity!")})})}conn.connect(function(o){if(o)throw o;console.log("connected as id "+conn.threadId+"\n"),conn.query("SELECT * FROM products",function(o,n){if(o)throw o;console.log("###############"),console.log("ITEMS FOR SALE!"),console.log("###############");for(var t=0;t<n.length;t++)console.log("==========================="),console.log("\nID: "+n[t].item_id),console.log("Item: "+n[t].product_name),console.log("Price: $"+n[t].price),console.log("\n===========================");prompt()})});